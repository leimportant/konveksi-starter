import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-CxyMViV1.js";import{b as C,u as S,o as h,g as y,j as n,q as s,x as t,y as D,z as a,l as m,A as i,F as v,D as P,H as f,k as c,N as j,B as p}from"./app-C0ZtNFPV.js";import{u as z}from"./useTransferStockStore-B-GCbk1t.js";import{_ as g}from"./Button.vue_vue_type_script_setup_true_lang-B6TXREVN.js";import{_ as A,a as B,b as $,c as d,d as N,e as u}from"./TableRow.vue_vue_type_script_setup_true_lang-CVJoN5Nr.js";import{u as R}from"./useToast-DV2nGitA.js";import{P as V}from"./plus-jsIhsatj.js";import{E}from"./eye-O2eFuBSM.js";import{S as F}from"./square-pen-Cj9XWA8y.js";import{T as L}from"./trash-2-Bt8Dqp-q.js";import"./index-C2dazRLE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BIT3zfbJ.js";const q={class:"px-4 py-4"},H={class:"flex justify-between items-center mb-6"},I={class:"rounded-md border"},se=C({__name:"Index",setup(M){const k=R(),_=z(),{transfers:b}=S(_);h(()=>{_.fetchTransfers()});const w=async r=>{var o,e;if(confirm("Are you sure you want to delete this transfer?"))try{await _.deleteTransfer(r),await _.fetchTransfers(),k.success("Transfer deleted successfully")}catch(l){k.error(((e=(o=l==null?void 0:l.response)==null?void 0:o.data)==null?void 0:e.message)??"Failed to delete transfer")}},x=[{title:"Transfer Stocks",href:"/transfer-stocks"}];return(r,o)=>(n(),y(v,null,[s(t(D),{title:"Transfer Stocks"}),s(T,{breadcrumbs:x},{default:a(()=>[m("div",q,[m("div",H,[s(t(g),{onClick:o[0]||(o[0]=e=>r.$inertia.visit("/transfer-stock/create")),class:"bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500"},{default:a(()=>[s(t(V),{class:"h-4 w-4 mr-2"}),o[1]||(o[1]=i(" Add "))]),_:1,__:[1]})]),m("div",I,[s(t(A),null,{default:a(()=>[s(t(B),null,{default:a(()=>[s(t($),{class:"bg-gray-100"},{default:a(()=>[s(t(d),null,{default:a(()=>o[2]||(o[2]=[i("Location")])),_:1,__:[2]}),s(t(d),null,{default:a(()=>o[3]||(o[3]=[i("Destination")])),_:1,__:[3]}),s(t(d),null,{default:a(()=>o[4]||(o[4]=[i("Sloc")])),_:1,__:[4]}),s(t(d),null,{default:a(()=>o[5]||(o[5]=[i("Date")])),_:1,__:[5]}),s(t(d),null,{default:a(()=>o[6]||(o[6]=[i("Status")])),_:1,__:[6]}),s(t(d),{class:"w-24"},{default:a(()=>o[7]||(o[7]=[i("Actions")])),_:1,__:[7]})]),_:1})]),_:1}),s(t(N),null,{default:a(()=>[(n(!0),y(v,null,P(t(b),e=>(n(),f(t($),{key:e.id},{default:a(()=>[s(t(u),null,{default:a(()=>{var l;return[i(c((l=e.location)==null?void 0:l.name),1)]}),_:2},1024),s(t(u),null,{default:a(()=>{var l;return[i(c((l=e.location_destination)==null?void 0:l.name),1)]}),_:2},1024),s(t(u),null,{default:a(()=>[i(c(e.sloc_id),1)]),_:2},1024),s(t(u),null,{default:a(()=>[i(c(e.created_at?new Date(e.created_at).toLocaleDateString():"-"),1)]),_:2},1024),s(t(u),null,{default:a(()=>[m("span",{class:j([e.status=="Pending"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 rounded-full text-xs font-semibold"])},c(e.status),3)]),_:2},1024),s(t(u),{class:"flex gap-2"},{default:a(()=>[e!=null&&e.id&&(e.status==="Accepted"||e.status==="Rejected")?(n(),f(t(g),{key:0,variant:"ghost",size:"icon",class:"hover:bg-gray-100",onClick:l=>r.$inertia.visit(`/transfer-stock/${e.id}/view`)},{default:a(()=>[s(t(E),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),e!=null&&e.id&&(e.status==="Pending"||e.status==="Rejected")?(n(),f(t(g),{key:1,variant:"ghost",size:"icon",class:"hover:bg-gray-100",onClick:l=>r.$inertia.visit(`/transfer-stock/${e.id}/edit`)},{default:a(()=>[s(t(F),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0),e!=null&&e.id&&(e.status==="Pending"||e.status==="Rejected")?(n(),f(t(g),{key:2,variant:"ghost",size:"icon",class:"hover:bg-gray-100",onClick:l=>w(e.id)},{default:a(()=>[s(t(L),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])]),_:1})],64))}});export{se as default};
