import{b as y,L as _,r as p,g,j as c,q as t,x as o,y as C,z as r,l,I as S,m as w,p as T,A as m,F as q,M as U}from"./app-C0ZtNFPV.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-CxyMViV1.js";import{_ as u}from"./Input.vue_vue_type_script_setup_true_lang-BWB1n0oK.js";import{_ as f}from"./Button.vue_vue_type_script_setup_true_lang-B6TXREVN.js";import{u as B}from"./useCashBalanceStore-CV01EwU0.js";import{u as $}from"./useToast-DV2nGitA.js";import"./index-C2dazRLE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BIT3zfbJ.js";const K={class:"w-full px-4 py-6"},M={class:"space-y-4"},j={class:"mt-6 flex justify-end gap-2"},J=y({__name:"Closing",setup(N){const v=B(),d=$(),b=_().props.id,a=p({cash_sales_total:0,cash_in:0,cash_out:0,closing_balance:0,discrepancy:0,notes:""}),n=p(!1),x=async()=>{n.value=!0;try{await v.closing(b,a.value),d.success("Shift berhasil ditutup"),U.visit("/sales")}catch(i){d.error("Gagal menutup shift"),console.error(i)}finally{n.value=!1}},V=[{title:"Close Shift",href:"/close-shift"}];return(i,e)=>(c(),g(q,null,[t(o(C),{title:"Tutup Shift Kasir"}),t(k,{breadcrumbs:V},{default:r(()=>[l("div",K,[l("form",{onSubmit:S(x,["prevent"])},[l("div",M,[l("div",null,[e[7]||(e[7]=l("label",{class:"text-[14px]"},"Total Penjualan Tunai",-1)),t(o(u),{modelValue:a.value.cash_sales_total,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.cash_sales_total=s),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[8]||(e[8]=l("label",{class:"text-[14px]"},"Kas Masuk (Cash In)",-1)),t(o(u),{modelValue:a.value.cash_in,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.cash_in=s),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[9]||(e[9]=l("label",{class:"text-[14px]"},"Kas Keluar (Cash Out)",-1)),t(o(u),{modelValue:a.value.cash_out,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.cash_out=s),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[10]||(e[10]=l("label",{class:"text-[14px]"},"Saldo Akhir",-1)),t(o(u),{modelValue:a.value.closing_balance,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.closing_balance=s),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[11]||(e[11]=l("label",{class:"text-[14px]"},"Selisih",-1)),t(o(u),{modelValue:a.value.discrepancy,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.discrepancy=s),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[12]||(e[12]=l("label",{class:"text-[14px]"},"Catatan",-1)),w(l("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.notes=s),class:"w-full border rounded px-3 py-2",rows:"3",placeholder:"Opsional"},null,512),[[T,a.value.notes]])])]),l("div",j,[t(o(f),{type:"submit",disabled:n.value},{default:r(()=>e[13]||(e[13]=[m("Tutup Shift")])),_:1,__:[13]},8,["disabled"]),t(o(f),{type:"button",variant:"outline",onClick:e[6]||(e[6]=s=>i.$inertia.visit("/cash-balances"))},{default:r(()=>e[14]||(e[14]=[m(" Batal ")])),_:1,__:[14]})])],32)])]),_:1})],64))}});export{J as default};
