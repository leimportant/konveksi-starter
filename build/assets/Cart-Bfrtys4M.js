import{b as be,r as A,e as W,o as _e,g as x,j as y,q as Z,x as O,y as xe,z as ee,l as i,B as T,m as ge,p as fe,F as Q,D as te,A as X,k as h,N as Ce,I as ke,H as we,a as Le,M as Ee,_ as $e}from"./app-C0ZtNFPV.js";import{_ as Be}from"./AppLayout.vue_vue_type_script_setup_true_lang-CxyMViV1.js";import{u as Ie}from"./useCartStore-pAcp0Plh.js";import{u as qe}from"./useToast-DV2nGitA.js";import{e as De,c as Pe,m as E,b as Se,s as me,d as ze,f as ve,a as Me,S as Ae}from"./swiper-CfS7aeLB.js";import"./Button.vue_vue_type_script_setup_true_lang-B6TXREVN.js";import"./index-C2dazRLE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BIT3zfbJ.js";function Y(q,e){let k=null;return function(...g){k&&clearTimeout(k),k=setTimeout(()=>{q.apply(this,g)},e)}}function he(q,e,k,g){return q.params.createElements&&Object.keys(g).forEach(m=>{if(!k[m]&&k.auto===!0){let v=De(q.el,`.${g[m]}`)[0];v||(v=Pe("div",g[m]),v.className=g[m],q.el.append(v)),k[m]=v,e[m]=v}}),k}function Te(q){let{swiper:e,extendParams:k,on:g,emit:m}=q;k({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function v(c){let o;return c&&typeof c=="string"&&e.isElement&&(o=e.el.querySelector(c)||e.hostEl.querySelector(c),o)?o:(c&&(typeof c=="string"&&(o=[...document.querySelectorAll(c)]),e.params.uniqueNavElements&&typeof c=="string"&&o&&o.length>1&&e.el.querySelectorAll(c).length===1?o=e.el.querySelector(c):o&&o.length===1&&(o=o[0])),c&&!o?c:o)}function D(c,o){const u=e.params.navigation;c=E(c),c.forEach(f=>{f&&(f.classList[o?"add":"remove"](...u.disabledClass.split(" ")),f.tagName==="BUTTON"&&(f.disabled=o),e.params.watchOverflow&&e.enabled&&f.classList[e.isLocked?"add":"remove"](u.lockClass))})}function b(){const{nextEl:c,prevEl:o}=e.navigation;if(e.params.loop){D(o,!1),D(c,!1);return}D(o,e.isBeginning&&!e.params.rewind),D(c,e.isEnd&&!e.params.rewind)}function z(c){c.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),m("navigationPrev"))}function j(c){c.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),m("navigationNext"))}function F(){const c=e.params.navigation;if(e.params.navigation=he(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(c.nextEl||c.prevEl))return;let o=v(c.nextEl),u=v(c.prevEl);Object.assign(e.navigation,{nextEl:o,prevEl:u}),o=E(o),u=E(u);const f=(t,a)=>{t&&t.addEventListener("click",a==="next"?j:z),!e.enabled&&t&&t.classList.add(...c.lockClass.split(" "))};o.forEach(t=>f(t,"next")),u.forEach(t=>f(t,"prev"))}function p(){let{nextEl:c,prevEl:o}=e.navigation;c=E(c),o=E(o);const u=(f,t)=>{f.removeEventListener("click",t==="next"?j:z),f.classList.remove(...e.params.navigation.disabledClass.split(" "))};c.forEach(f=>u(f,"next")),o.forEach(f=>u(f,"prev"))}g("init",()=>{e.params.navigation.enabled===!1?P():(F(),b())}),g("toEdge fromEdge lock unlock",()=>{b()}),g("destroy",()=>{p()}),g("enable disable",()=>{let{nextEl:c,prevEl:o}=e.navigation;if(c=E(c),o=E(o),e.enabled){b();return}[...c,...o].filter(u=>!!u).forEach(u=>u.classList.add(e.params.navigation.lockClass))}),g("click",(c,o)=>{let{nextEl:u,prevEl:f}=e.navigation;u=E(u),f=E(f);const t=o.target;let a=f.includes(t)||u.includes(t);if(e.isElement&&!a){const l=o.path||o.composedPath&&o.composedPath();l&&(a=l.find(d=>u.includes(d)||f.includes(d)))}if(e.params.navigation.hideOnClick&&!a){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===t||e.pagination.el.contains(t)))return;let l;u.length?l=u[0].classList.contains(e.params.navigation.hiddenClass):f.length&&(l=f[0].classList.contains(e.params.navigation.hiddenClass)),m(l===!0?"navigationShow":"navigationHide"),[...u,...f].filter(d=>!!d).forEach(d=>d.classList.toggle(e.params.navigation.hiddenClass))}});const C=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),F(),b()},P=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:C,disable:P,update:b,init:F,destroy:p})}function K(q){return q===void 0&&(q=""),`.${q.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function je(q){let{swiper:e,extendParams:k,on:g,emit:m}=q;const v="swiper-pagination";k({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${v}-bullet`,bulletActiveClass:`${v}-bullet-active`,modifierClass:`${v}-`,currentClass:`${v}-current`,totalClass:`${v}-total`,hiddenClass:`${v}-hidden`,progressbarFillClass:`${v}-progressbar-fill`,progressbarOppositeClass:`${v}-progressbar-opposite`,clickableClass:`${v}-clickable`,lockClass:`${v}-lock`,horizontalClass:`${v}-horizontal`,verticalClass:`${v}-vertical`,paginationDisabledClass:`${v}-disabled`}}),e.pagination={el:null,bullets:[]};let D,b=0;function z(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function j(t,a){const{bulletActiveClass:l}=e.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${l}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${l}-${a}-${a}`)))}function F(t,a,l){if(t=t%l,a=a%l,a===t+1)return"next";if(a===t-1)return"previous"}function p(t){const a=t.target.closest(K(e.params.pagination.bulletClass));if(!a)return;t.preventDefault();const l=ve(a)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===l)return;const d=F(e.realIndex,l,e.slides.length);d==="next"?e.slideNext():d==="previous"?e.slidePrev():e.slideToLoop(l)}else e.slideTo(l)}function C(){const t=e.rtl,a=e.params.pagination;if(z())return;let l=e.pagination.el;l=E(l);let d,B;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,R=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(B=e.previousRealIndex||0,d=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(d=e.snapIndex,B=e.previousSnapIndex):(B=e.previousIndex||0,d=e.activeIndex||0),a.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let S,I,H;if(a.dynamicBullets&&(D=ze(_[0],e.isHorizontal()?"width":"height"),l.forEach(w=>{w.style[e.isHorizontal()?"width":"height"]=`${D*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&B!==void 0&&(b+=d-(B||0),b>a.dynamicMainBullets-1?b=a.dynamicMainBullets-1:b<0&&(b=0)),S=Math.max(d-b,0),I=S+(Math.min(_.length,a.dynamicMainBullets)-1),H=(I+S)/2),_.forEach(w=>{const L=[...["","-next","-next-next","-prev","-prev-prev","-main"].map($=>`${a.bulletActiveClass}${$}`)].map($=>typeof $=="string"&&$.includes(" ")?$.split(" "):$).flat();w.classList.remove(...L)}),l.length>1)_.forEach(w=>{const L=ve(w);L===d?w.classList.add(...a.bulletActiveClass.split(" ")):e.isElement&&w.setAttribute("part","bullet"),a.dynamicBullets&&(L>=S&&L<=I&&w.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),L===S&&j(w,"prev"),L===I&&j(w,"next"))});else{const w=_[d];if(w&&w.classList.add(...a.bulletActiveClass.split(" ")),e.isElement&&_.forEach((L,$)=>{L.setAttribute("part",$===d?"bullet-active":"bullet")}),a.dynamicBullets){const L=_[S],$=_[I];for(let G=S;G<=I;G+=1)_[G]&&_[G].classList.add(...`${a.bulletActiveClass}-main`.split(" "));j(L,"prev"),j($,"next")}}if(a.dynamicBullets){const w=Math.min(_.length,a.dynamicMainBullets+4),L=(D*w-D)/2-H*D,$=t?"right":"left";_.forEach(G=>{G.style[e.isHorizontal()?$:"top"]=`${L}px`})}}l.forEach((_,S)=>{if(a.type==="fraction"&&(_.querySelectorAll(K(a.currentClass)).forEach(I=>{I.textContent=a.formatFractionCurrent(d+1)}),_.querySelectorAll(K(a.totalClass)).forEach(I=>{I.textContent=a.formatFractionTotal(R)})),a.type==="progressbar"){let I;a.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";const H=(d+1)/R;let w=1,L=1;I==="horizontal"?w=H:L=H,_.querySelectorAll(K(a.progressbarFillClass)).forEach($=>{$.style.transform=`translate3d(0,0,0) scaleX(${w}) scaleY(${L})`,$.style.transitionDuration=`${e.params.speed}ms`})}a.type==="custom"&&a.renderCustom?(me(_,a.renderCustom(e,d+1,R)),S===0&&m("paginationRender",_)):(S===0&&m("paginationRender",_),m("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](a.lockClass)})}function P(){const t=e.params.pagination;if(z())return;const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let l=e.pagination.el;l=E(l);let d="";if(t.type==="bullets"){let B=e.params.loop?Math.ceil(a/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&B>a&&(B=a);for(let M=0;M<B;M+=1)t.renderBullet?d+=t.renderBullet.call(e,M,t.bulletClass):d+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?d=t.renderFraction.call(e,t.currentClass,t.totalClass):d=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?d=t.renderProgressbar.call(e,t.progressbarFillClass):d=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],l.forEach(B=>{t.type!=="custom"&&me(B,d||""),t.type==="bullets"&&e.pagination.bullets.push(...B.querySelectorAll(K(t.bulletClass)))}),t.type!=="custom"&&m("paginationRender",l[0])}function c(){e.params.pagination=he(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&e.isElement&&(a=e.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...e.el.querySelectorAll(t.el)],a.length>1&&(a=a.find(l=>Se(l,".swiper")[0]===e.el))),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(e.pagination,{el:a}),a=E(a),a.forEach(l=>{t.type==="bullets"&&t.clickable&&l.classList.add(...(t.clickableClass||"").split(" ")),l.classList.add(t.modifierClass+t.type),l.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(l.classList.add(`${t.modifierClass}${t.type}-dynamic`),b=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&l.classList.add(t.progressbarOppositeClass),t.clickable&&l.addEventListener("click",p),e.enabled||l.classList.add(t.lockClass)}))}function o(){const t=e.params.pagination;if(z())return;let a=e.pagination.el;a&&(a=E(a),a.forEach(l=>{l.classList.remove(t.hiddenClass),l.classList.remove(t.modifierClass+t.type),l.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(l.classList.remove(...(t.clickableClass||"").split(" ")),l.removeEventListener("click",p))})),e.pagination.bullets&&e.pagination.bullets.forEach(l=>l.classList.remove(...t.bulletActiveClass.split(" ")))}g("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:a}=e.pagination;a=E(a),a.forEach(l=>{l.classList.remove(t.horizontalClass,t.verticalClass),l.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),g("init",()=>{e.params.pagination.enabled===!1?f():(c(),P(),C())}),g("activeIndexChange",()=>{typeof e.snapIndex>"u"&&C()}),g("snapIndexChange",()=>{C()}),g("snapGridLengthChange",()=>{P(),C()}),g("destroy",()=>{o()}),g("enable disable",()=>{let{el:t}=e.pagination;t&&(t=E(t),t.forEach(a=>a.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),g("lock unlock",()=>{C()}),g("click",(t,a)=>{const l=a.target,d=E(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&d&&d.length>0&&!l.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&l===e.navigation.nextEl||e.navigation.prevEl&&l===e.navigation.prevEl))return;const B=d[0].classList.contains(e.params.pagination.hiddenClass);m(B===!0?"paginationShow":"paginationHide"),d.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const u=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=E(t),t.forEach(a=>a.classList.remove(e.params.pagination.paginationDisabledClass))),c(),P(),C()},f=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=E(t),t.forEach(a=>a.classList.add(e.params.pagination.paginationDisabledClass))),o()};Object.assign(e.pagination,{enable:u,disable:f,render:P,update:C,init:c,destroy:o})}const Fe={class:"flex flex-col md:col-span-4 lg:col-span-4"},Ne={class:"mb-2 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},Oe={class:"space-y-4 w-full p-4 bg-white"},He={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 px-2 mb-4"},Ge={class:"grid grid-cols-2 sm:grid-cols-5 xl:grid-cols-4 gap-1"},Re=["onClick","title"],Ve={class:"w-full h-24 mb-2"},Qe=["src"],Ue={key:1,class:"w-full h-full bg-gray-200 flex items-center justify-center text-xs text-gray-400 rounded-lg"},Ke={class:"text-sm font-semibold text-gray-900 truncate justify-between"},Je={key:0,class:"ml-1 rounded bg-orange-500 px-2 py-0.5 text-[14px] font-bold text-white md:text-xs"},We={class:"text-xs text-gray-500"},Xe={class:"mt-1 text-sm"},Ye={class:"line-through text-xs text-gray-400"},Ze={class:"text-green-500 text-xs"},et={key:1,class:"font-semibold text-gray-700"},tt={class:"flex justify-center items-center gap-2 pt-4"},at=["disabled"],st={class:"px-3 py-1 border rounded bg-white"},lt=["disabled"],it={class:"min-h-screen bg-white p-2 overflow-x-hidden grid gap-8 md:grid-cols-[1fr_400px]"},nt={class:"hidden md:block absolute top-4 right-4 z-50"},rt={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},ot={class:"block fixed top-4 right-4 z-50 md:hidden"},ct={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},dt={key:0,class:"text-gray-400 text-center mt-10"},ut=["src"],pt={class:"flex-1 min-w-0"},gt={class:"font-semibold text-sm truncate"},ft={class:"text-xs text-gray-400"},mt={class:"text-xs text-gray-800"},vt={class:"text-xs text-gray-800"},ht={class:"flex items-center space-x-1"},yt=["onClick","disabled"],bt={class:"w-8 text-center text-sm"},_t=["onClick"],xt=["onClick"],Ct={class:"mt-2 pt-4 space-y-2"},kt={class:"text-sm font-semibold"},wt={class:"text-sm font-semibold"},Lt={class:"bg-white rounded-xl p-6 w-full max-w-md relative"},Et={key:0},$t=["src"],Bt={key:1,class:"mb-4 w-full h-48 rounded-lg"},It=["src"],qt={key:2,class:"mb-4 w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-xs"},Dt={class:"text-xl font-semibold mb-2"},Pt={class:"text-sm text-gray-600 mb-2"},St={class:"mb-3 text-lg font-semibold text-gray-800"},zt={key:0,class:"line-through text-gray-400 mr-2"},Mt={key:1,class:"text-green-500 ml-1"},At={class:"flex items-center space-x-3 mb-4"},Tt=["disabled"],jt=["max"],Ft=["disabled"],Nt=["disabled"],Ot=be({__name:"Cart",setup(q){const e=[je,Te],k=A(!1),g=qe(),m=Ie(),v=A([]),D=A(""),b=A(1),z=A(1),j=A(null),F=A(!1),p=A(null),C=A(1),P=A(!1),c=()=>P.value=!P.value,o=s=>s?s.startsWith("storage/")?"/"+s:s.startsWith("/storage/")?s:"/storage/"+s:"";function u(s){const n=typeof s=="string"?parseFloat(s):s;return!n||n<=0?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}).format(n)}async function f(){try{const s=await Le.get(`/api/stock?page=${b.value}&search=${D.value}`);v.value=s.data.data.map(n=>({...n,gallery_images:n.gallery_images||[]})),z.value=s.data.last_page,await m.fetchCartItems()}catch(s){console.error("Error fetching products:",s),g.error("Failed to fetch products")}}function t(){b.value=1,f()}function a(s){p.value={...s,gallery_images:s.gallery_images||[]},C.value=1,F.value=!0}function l(){F.value=!1,p.value=null,C.value=1}const d=W(()=>m.cartItems.reduce((s,n)=>s+(n.quantity||0),0)),B=async()=>{const s=p.value;if(console.log(s),!s)return;if(C.value>s.qty_stock){g.error("Jumlah melebihi stok tersedia");return}const n=s.price??0,N=s.discount??0,V=(s.price_sell??0)>0?s.price_sell??0:n-N;try{await m.addToCart(s.product_id??0,C.value,s.size_id??"",s.uom_id??"PCS",n,N,V),g.success("Product added to cart"),l()}catch{g.error(m.error||"Failed to add product to cart")}},M=Y(async()=>{k.value=!0,p.value&&C.value<p.value.qty_stock&&C.value++,k.value=!1},300),R=Y(async()=>{k.value=!0,C.value>1&&C.value--,k.value=!1},300),_=Y(async s=>{const n=s.price-(s.discount??0);if(k.value=!0,s.quantity<s.qty_stock)try{await m.addToCart(s.product_id,1,s.size_id,s.uom_id,s.price,s.discount??0,s.price_sell??n)}catch{g.error("Error increasing quantity")}else g.error("Stok maksimum tercapai");k.value=!1},300),S=Y(async s=>{if(k.value=!0,s.quantity>1)try{const n=s.price-(s.discount??0);await m.addToCart(s.product_id??0,-1,s.size_id,s.uom_id,s.price,s.discount??0,s.price_sell??n)}catch{g.error("Error decreasing quantity")}k.value=!1},300),I=async s=>{try{await m.removeFromCart(s??0),g.success("Item removed")}catch{g.error(m.error||"Failed to remove item")}},H=W(()=>m.cartItems.map(s=>({...v.value.find(N=>N.product_id===s.product_id),...s,id:s.product_id,cartItemId:s.id,quantity:s.quantity,price:s.price??0,price_sell:s.price_sell??0,discount:s.discount??0,size_id:s.size_id,uom_id:s.uom_id})).filter(Boolean)),w=W(()=>m.cartItems.reduce((s,n)=>s+(n.price_sell??!1?n.price_sell??0:n.price)*n.quantity,0)),L=W(()=>m.cartItems.reduce((s,n)=>{const N=n.price||0,V=(n.price_sell??0)>0?n.price_sell??0:n.price||0,J=N-V;return s+J*(n.quantity||0)},0)),$=()=>{b.value>1&&(b.value--,f())},G=()=>{b.value<z.value&&(b.value++,f())},ye=()=>{console.log("Proceeding to checkout"),Ee.visit("/checkout")};return _e(async()=>{P.value=!1,await f()}),(s,n)=>(y(),x(Q,null,[Z(O(xe),{title:"Belanja"}),Z(Be,null,{default:ee(()=>{var N,V,J,ae,se,le,ie,ne,re,oe,ce,de,ue,pe;return[i("section",Fe,[i("div",Ne,[i("section",Oe,[i("div",He,[n[5]||(n[5]=i("h2",{class:"text-xl font-bold text-gray-800"},"Katalog Produk",-1)),ge(i("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=r=>D.value=r),onInput:t,placeholder:"Cari produk...",class:"border rounded px-3 py-1 text-sm w-full sm:w-52 sm:ml-auto"},null,544),[[fe,D.value]])]),i("div",Ge,[(y(!0),x(Q,null,te(v.value,r=>(y(),x("div",{key:r.product_id,onClick:U=>a(r),class:"bg-green-50 hover:bg-green-100 rounded-xl p-3 border border-gray-200 shadow-sm hover:shadow-md transition cursor-pointer",title:`Stock: ${r.qty_stock}`},[i("div",Ve,[r.image_path?(y(),x("img",{key:0,src:o(r.image_path),alt:"product",class:"w-full h-full object-cover rounded-lg"},null,8,Qe)):(y(),x("div",Ue,"No Image"))]),i("p",Ke,[X(h(r.product_name)+" ",1),r.discount&&r.price?(y(),x(Q,{key:0},[r.discount>0?(y(),x("span",Je," - "+h(Math.round(r.discount/r.price*100))+"% ",1)):T("",!0)],64)):T("",!0)]),i("p",We,"Stock: "+h(r.qty_stock)+" "+h(r.uom_id),1),i("div",Xe,[r.discount&&r.discount>0?(y(),x(Q,{key:0},[i("p",Ye,h(u(r.price)),1),i("p",null,[X(h(u(r.price_sell||r.price))+" ",1),n[6]||(n[6]=i("br",null,null,-1)),i("span",Ze,"(Diskon "+h(u(r.discount))+")",1)])],64)):(y(),x("p",et,h(u(r.price)),1))])],8,Re))),128))]),i("div",tt,[i("button",{onClick:$,disabled:b.value===1,class:"px-3 py-1 border rounded disabled:opacity-50"},"Prev",8,at),i("span",st,"Page "+h(b.value)+" of "+h(z.value),1),i("button",{onClick:G,disabled:b.value===z.value,class:"px-3 py-1 border rounded disabled:opacity-50"},"Next",8,lt)])])])]),i("div",it,[i("div",nt,[i("button",{onClick:c,class:"relative bg-white p-2 rounded-full shadow hover:shadow-md"},[n[7]||(n[7]=X(" 🛒 ")),d.value>0?(y(),x("span",rt,h(d.value),1)):T("",!0)])]),i("div",ot,[i("button",{onClick:c,class:"relative bg-white p-2 rounded-full shadow hover:shadow-md"},[n[8]||(n[8]=X(" 🛒 ")),d.value>0?(y(),x("span",ct,h(d.value),1)):T("",!0)])])]),P.value?(y(),x("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-30 z-30 md:hidden",onClick:n[1]||(n[1]=r=>P.value=!1)})):T("",!0),i("aside",{class:Ce(["fixed inset-y-0 right-0 max-w-full w-80 bg-gray-100 dark:bg-gray-800 dark:text-blue-400 shadow-xl z-40 transform transition-transform duration-300",P.value?"translate-x-0":"translate-x-full"])},[n[9]||(n[9]=i("h2",{class:"text-xl font-bold mb-4"},"Keranjang Belanja",-1)),i("div",{ref_key:"orderList",ref:j,class:"flex-1 overflow-y-auto space-y-4 pr-1"},[H.value.length===0?(y(),x("div",dt," Cart is empty ")):T("",!0),(y(!0),x(Q,null,te(H.value,r=>(y(),x("div",{key:r.product_id,class:"flex items-center gap-3 border-b pb-2"},[r.image_path?(y(),x("img",{key:0,src:o(r.image_path),alt:"product",class:"w-12 h-12 object-cover rounded"},null,8,ut)):T("",!0),i("div",pt,[i("p",gt,h(r.product_name),1),i("p",ft,"Stock: "+h(r.qty_stock),1),i("p",mt,h(u((r.price_sell??0)>0?r.price_sell??0:r.price??0)),1),i("p",vt,"Diskon "+h(u(((r.discount??0)>0,r.discount??0))),1)]),i("div",ht,[i("button",{onClick:U=>O(S)(r),disabled:r.quantity<=1,class:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50"},"-",8,yt),i("span",bt,h(r.quantity),1),i("button",{onClick:U=>O(_)(r),class:"px-2 py-1 bg-gray-200 rounded"},"+",8,_t)]),i("button",{onClick:U=>I(r.cartItemId),class:"text-red-500 text-lg hover:text-red-700"},"×",8,xt)]))),128))],512),i("div",Ct,[i("p",kt,"Total Diskon: "+h(u(L.value)),1),i("p",wt,"Total: "+h(u(w.value)),1),i("button",{onClick:ye,class:"w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500"},"Lanjut Checkout")])],2),F.value?(y(),x("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",onClick:ke(l,["self"])},[i("div",Lt,[i("button",{onClick:l,class:"absolute top-2 right-3 text-gray-600 hover:text-gray-900 text-xl font-bold"},"×"),i("div",null,[(N=p.value)!=null&&N.gallery_images&&p.value.gallery_images.length>0?(y(),x("div",Et,[Z(O(Me),{"slides-per-view":1,"space-between":10,modules:e,pagination:{clickable:!0},navigation:!0,class:"mb-4 w-full h-48 rounded-lg"},{default:ee(()=>[(y(!0),x(Q,null,te(p.value.gallery_images,(r,U)=>(y(),we(O(Ae),{key:U},{default:ee(()=>[i("img",{src:o(r.path),alt:"product gallery image",class:"w-full h-full object-cover rounded-lg"},null,8,$t)]),_:2},1024))),128))]),_:1})])):(V=p.value)!=null&&V.image_path?(y(),x("div",Bt,[i("img",{src:o(p.value.image_path),alt:"product",class:"w-full h-full object-cover rounded-lg"},null,8,It)])):(y(),x("div",qt,"No Image")),i("h3",Dt,h((J=p.value)==null?void 0:J.product_name),1),i("p",Pt," Stock: "+h((ae=p.value)==null?void 0:ae.qty_stock)+" "+h((se=p.value)==null?void 0:se.uom_id)+" - Ukuran "+h((le=p.value)==null?void 0:le.size_id),1),i("p",St,[(ie=p.value)!=null&&ie.discount&&p.value.discount>0?(y(),x("span",zt,h(u(p.value.price)),1)):T("",!0),i("span",null,h(u((((ne=p.value)==null?void 0:ne.price_sell)??0)>0?((re=p.value)==null?void 0:re.price_sell)??0:((oe=p.value)==null?void 0:oe.price)??0)),1),(ce=p.value)!=null&&ce.discount&&p.value.discount>0?(y(),x("span",Mt,"(Diskon "+h(u(p.value.discount??0))+")",1)):T("",!0)]),i("div",At,[i("button",{onClick:n[2]||(n[2]=(...r)=>O(R)&&O(R)(...r)),disabled:C.value<=1,class:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50"},"-",8,Tt),ge(i("input",{type:"number",min:"1",max:((de=p.value)==null?void 0:de.qty_stock)??1,"onUpdate:modelValue":n[3]||(n[3]=r=>C.value=r),class:"w-16 text-center border rounded py-1"},null,8,jt),[[fe,C.value,void 0,{number:!0}]]),i("button",{onClick:n[4]||(n[4]=(...r)=>O(M)&&O(M)(...r)),disabled:C.value>=(((ue=p.value)==null?void 0:ue.qty_stock)??1),class:"px-3 py-1 bg-gray-200 rounded"},"+",8,Ft)]),i("button",{onClick:B,disabled:(((pe=p.value)==null?void 0:pe.qty_stock)??0)===0,class:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:opacity-50"},"Tambah Keranjang",8,Nt)])])])):T("",!0)]}),_:1})],64))}}),Wt=$e(Ot,[["__scopeId","data-v-92fffdcc"]]);export{Wt as default};
