import{b as k,r as S,o as B,g as f,j as u,q as t,x as e,y as $,z as s,l as d,A as n,F as g,D as N,H as V,k as r,N as D}from"./app-C0ZtNFPV.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-CxyMViV1.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-BWB1n0oK.js";import{_ as m}from"./Button.vue_vue_type_script_setup_true_lang-B6TXREVN.js";import{_ as w,a as F,b,c as i,d as I,e as _}from"./TableRow.vue_vue_type_script_setup_true_lang-CVJoN5Nr.js";import{u as z}from"./useCashBalanceStore-CV01EwU0.js";import{d as A}from"./debounce-BcZQbp_F.js";import"./index-C2dazRLE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BIT3zfbJ.js";const R={class:"px-4 py-6 space-y-6"},q={class:"flex justify-between items-center"},E={key:0,class:"text-center py-6 text-gray-500"},H={key:1},K={class:"rounded-md border"},M={key:0},O={key:1,class:"italic text-gray-400"},T={class:"flex justify-end mt-4 gap-2"},U={class:"px-2 py-1"},se=k({__name:"Index",setup(G){const l=z(),p=S(""),x=[{title:"Cash Balance",href:"/cash-balances"}];B(()=>{l.fetchCashBalances()});const y=A(c=>{l.setFilter("name",c)},400),h=c=>{const a=c.target;y(a.value)},P=()=>{l.currentPage<l.lastPage&&l.fetchCashBalances(l.currentPage+1)},v=()=>{l.currentPage>1&&l.fetchCashBalances(l.currentPage-1)};return(c,a)=>(u(),f(g,null,[t(e($),{title:"Cash Balances"}),t(L,{breadcrumbs:x},{default:s(()=>[d("div",R,[d("div",q,[a[1]||(a[1]=d("h1",{class:"text-2xl font-semibold"},"Saldo Kas",-1)),t(e(j),{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=o=>p.value=o),onInput:h,type:"text",placeholder:"Search by cashier name...",class:"w-64"},null,8,["modelValue"])]),e(l).loading?(u(),f("div",E," Loading data... ")):(u(),f("div",H,[d("div",K,[t(e(w),null,{default:s(()=>[t(e(F),null,{default:s(()=>[t(e(b),{class:"bg-gray-100"},{default:s(()=>[t(e(i),null,{default:s(()=>a[2]||(a[2]=[n("#")])),_:1,__:[2]}),t(e(i),null,{default:s(()=>a[3]||(a[3]=[n("Cashier ID")])),_:1,__:[3]}),t(e(i),null,{default:s(()=>a[4]||(a[4]=[n("Shift Date")])),_:1,__:[4]}),t(e(i),null,{default:s(()=>a[5]||(a[5]=[n("Shift")])),_:1,__:[5]}),t(e(i),null,{default:s(()=>a[6]||(a[6]=[n("Opening")])),_:1,__:[6]}),t(e(i),null,{default:s(()=>a[7]||(a[7]=[n("Closing")])),_:1,__:[7]}),t(e(i),null,{default:s(()=>a[8]||(a[8]=[n("Status")])),_:1,__:[8]})]),_:1})]),_:1}),t(e(I),null,{default:s(()=>[(u(!0),f(g,null,N(e(l).items,(o,C)=>(u(),V(e(b),{key:o.id},{default:s(()=>[t(e(_),null,{default:s(()=>[n(r(C+1),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n(r(o.cashier_id),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n(r(o.shift_date),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n(r(o.shift_number),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n("Rp "+r(o.opening_balance.toLocaleString()),1)]),_:2},1024),t(e(_),null,{default:s(()=>[o.closing_balance!==null?(u(),f("span",M," Rp "+r(o.closing_balance.toLocaleString()),1)):(u(),f("span",O,"N/A"))]),_:2},1024),t(e(_),null,{default:s(()=>[d("span",{class:D(o.status==="open"?"text-green-600":"text-gray-600")},r(o.status),3)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),d("div",T,[t(e(m),{onClick:v,disabled:e(l).currentPage===1,variant:"outline"},{default:s(()=>a[9]||(a[9]=[n(" Prev ")])),_:1,__:[9]},8,["disabled"]),d("span",U,"Page "+r(e(l).currentPage)+" of "+r(e(l).lastPage),1),t(e(m),{onClick:P,disabled:e(l).currentPage===e(l).lastPage,variant:"outline"},{default:s(()=>a[10]||(a[10]=[n(" Next ")])),_:1,__:[10]},8,["disabled"])])]))])]),_:1})],64))}});export{se as default};
