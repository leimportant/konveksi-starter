import{d as $,a as y,b as v,o as k,g as c,j as d,q as e,x as t,y as w,z as s,l as g,A as i,F as S,D as V,H as b,k as h,m as C,ag as N,p as B}from"./app-C0ZtNFPV.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-CxyMViV1.js";import{_ as K}from"./Button.vue_vue_type_script_setup_true_lang-B6TXREVN.js";import{_ as E,a as F,b as x,c as f,d as I,e as p}from"./TableRow.vue_vue_type_script_setup_true_lang-CVJoN5Nr.js";import"./index-C2dazRLE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BIT3zfbJ.js";const M=$("setting",{state:()=>({settings:[]}),actions:{async fetchSettings(){try{const o=await y.get("/api/settings");this.settings=o.data}catch(o){console.error("Error fetching settings:",o)}},async updateSetting(o,r){try{const l=await y.put(`/api/settings/${o}`,{value:r}),u=this.settings.findIndex(_=>_.id===o);return u!==-1&&(this.settings[u]=l.data),l.data}catch(l){throw console.error(`Error updating setting with ID ${o}:`,l),l}}}}),U={class:"px-4 py-4"},A={class:"rounded-md border"},T={key:0},j=["onUpdate:modelValue","onKeyup"],q={key:1},P=v({__name:"Index",setup(o){const r=M(),l=[{title:"Setting",href:"/setting"}];k(()=>{r.fetchSettings()});const u=async(_,a)=>{try{await r.updateSetting(_,a),alert("Setting updated successfully!")}catch(n){console.log(n),alert("Failed to update setting.")}};return(_,a)=>(d(),c(S,null,[e(t(w),{title:"Setting Management"}),e(D,{breadcrumbs:l},{default:s(()=>[g("div",U,[g("div",A,[t(r).settings.length>0?(d(),c("div",T,[e(t(E),null,{default:s(()=>[e(t(F),null,{default:s(()=>[e(t(x),{class:"bg-gray-100"},{default:s(()=>[e(t(f),null,{default:s(()=>a[0]||(a[0]=[i("Name")])),_:1,__:[0]}),e(t(f),null,{default:s(()=>a[1]||(a[1]=[i("Key")])),_:1,__:[1]}),e(t(f),null,{default:s(()=>a[2]||(a[2]=[i("Current Value")])),_:1,__:[2]}),e(t(f),null,{default:s(()=>a[3]||(a[3]=[i("Actions")])),_:1,__:[3]})]),_:1})]),_:1}),e(t(I),null,{default:s(()=>[(d(!0),c(S,null,V(t(r).settings,n=>(d(),b(t(x),{key:n.id},{default:s(()=>[e(t(p),null,{default:s(()=>[i(h(n.name),1)]),_:2},1024),e(t(p),null,{default:s(()=>[i(h(n.key),1)]),_:2},1024),e(t(p),null,{default:s(()=>[C(g("input",{type:"text","onUpdate:modelValue":m=>n.value=m,onKeyup:N(m=>u(n.id,n.value),["enter"])},null,40,j),[[B,n.value]])]),_:2},1024),e(t(p),null,{default:s(()=>[e(t(K),{onClick:m=>u(n.id,n.value)},{default:s(()=>a[4]||(a[4]=[i("Update")])),_:2,__:[4]},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(d(),c("p",q,"No settings found."))])])]),_:1})],64))}});export{P as default};
