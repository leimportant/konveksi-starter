import{d as l,a as o}from"./app-C0ZtNFPV.js";const h=l("model",{state:()=>({loading:!1,error:null,models:[],total:0,currentPage:1,lastPage:1}),actions:{async createModel(t){var s,e;try{if(this.loading=!0,!t.start_date)throw new Error("Tanggal mulai harus diisi");return(await o.post("/api/models",{...t,start_date:t.start_date})).data}catch(a){throw this.error=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Terjadi kesalahan saat membuat model",a}finally{this.loading=!1}},async fetchModels(t={}){var s,e;try{this.loading=!0;const a=await o.get("/api/models/list",{params:t});return this.models=a.data.data.data,this.total=a.data.data.total,this.currentPage=a.data.data.current_page,this.lastPage=a.data.data.last_page,a.data}catch(a){throw this.error=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Terjadi kesalahan saat mengambil data model",a}finally{this.loading=!1}},async fetchModelById(t){var s,e;try{this.loading=!0;const a=await o.get(`/api/models/${t}`);if(!a.data||!a.data.data)throw new Error("Data model tidak ditemukan");return a.data}catch(a){throw this.error=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||a.message||"Gagal mengambil data model",a}finally{this.loading=!1}},async updateModel(t,s){var e,a;try{this.loading=!0;const r=await o.put(`/api/models/${t}`,s),d=this.models.findIndex(i=>i.id===t);return d!==-1&&(this.models[d]=r.data.data),r.data}catch(r){throw this.error=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Terjadi kesalahan saat memperbarui model",r}finally{this.loading=!1}},async deleteModel(t){var s,e;try{this.loading=!0,await o.delete(`/api/models/${t}`),this.models=this.models.filter(a=>a.id!==t)}catch(a){throw this.error=((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.message)||"Terjadi kesalahan saat menghapus model",a}finally{this.loading=!1}}}});export{h as u};
