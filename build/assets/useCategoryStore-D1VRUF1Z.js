import{d as s,a as r}from"./app-C0ZtNFPV.js";const o=s("category",{state:()=>({items:[],total:0,loaded:!1,loading:!1,currentPage:1,lastPage:1,filterName:""}),actions:{async fetchCategories(t=1,a=10){this.loaded=!1,this.currentPage=t;try{const e=await r.get("/api/categories",{params:{page:t,perPage:a,name:this.filterName}});this.items=e.data.data,this.total=e.data.total,this.lastPage=e.data.last_page,this.loaded=!0}catch(e){console.error("Failed to fetch Category",e),this.loaded=!0}},setFilter(t,a){t==="name"&&(this.filterName=a,this.currentPage=1,this.fetchCategories(1))},async createCategory(t){try{await r.post("/api/categories",{name:t}),await this.fetchCategories()}catch(a){throw a}},async updateCategory(t,a){try{await r.put(`/api/categories/${t}`,{name:a}),await this.fetchCategories()}catch(e){throw e}},async deleteCategory(t){try{await r.delete(`/api/categories/${t}`),await this.fetchCategories()}catch(a){throw a}}}});export{o as u};
