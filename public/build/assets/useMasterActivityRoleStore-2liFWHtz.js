import{R as n,b as r}from"./app-CimJA_nk.js";const d=n("masterActivityRole",{state:()=>({items:[],loading:!1,error:null,total:0,currentPage:1,lastPage:1}),actions:{async fetchActivityRoles(e={}){var a,i;try{this.loading=!0;const t=await r.get("/api/activity-roles",{params:e});return this.items=t.data.data,this.total=t.data.total,this.currentPage=t.data.current_page,this.lastPage=t.data.last_page,t.data}catch(t){throw this.error=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to fetch activity roles",t}finally{this.loading=!1}},async getActivityRoleById(e){return this.loading=!0,(await r.get(`/api/activity-roles/${e}`)).data},async createActivityRole(e){var a,i;try{this.loading=!0;const t=await r.post("/api/activity-roles",e);return await this.fetchActivityRoles({page:this.currentPage}),t.data}catch(t){throw this.error=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to create activity role",t}finally{this.loading=!1}},async updateActivityRole(e,a){var i,t;try{this.loading=!0;const s=await r.put(`/api/activity-roles/${e}`,a),o=this.items.findIndex(l=>l.id===e);return o!==-1&&(this.items[o]=s.data.data),s.data}catch(s){throw this.error=((t=(i=s.response)==null?void 0:i.data)==null?void 0:t.message)||"Failed to update activity role",s}finally{this.loading=!1}},async deleteActivityRole(e){var a,i;try{this.loading=!0,await r.delete(`/api/activity-roles/${e}`),this.items=this.items.filter(t=>t.id!==e)}catch(t){throw this.error=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to delete activity role",t}finally{this.loading=!1}}}});export{d as u};
