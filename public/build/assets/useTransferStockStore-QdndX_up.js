import{M as i,b as s}from"./app-dnJGHIqc.js";const l=i("transferStock",{state:()=>({transfers:[],transfer:null,loading:!1,error:null,products:[]}),actions:{async fetchProducts(){var t,a;this.loading=!0;try{const r=await s.get("/api/products");this.products=r.data.data,this.error=null}catch(r){this.error=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to fetch products"}finally{this.loading=!1}},async fetchTransfers(){var t,a;this.loading=!0;try{const r=await s.get("/api/transfer-stock");this.transfers=r.data.data,this.error=null}catch(r){this.error=((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to fetch transfers"}finally{this.loading=!1}},async fetchTransferByID(t){var a,r;this.loading=!0;try{const e=await s.get(`/api/transfer-stock/${t}`);this.transfer=e.data,this.error=null}catch(e){this.error=((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to fetch transfer"}finally{this.loading=!1}},async createTransfer(t){var a,r;this.loading=!0;try{const e=await s.post("/api/transfer-stock",t);return this.transfer=e.data.data,this.error=null,e.data}catch(e){throw this.error=((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to create transfer",e}finally{this.loading=!1}},async updateTransfer(t,a){var r,e;this.loading=!0;try{const n=await s.put(`/api/transfer-stock/${t}`,a);return this.transfer=n.data,this.error=null,n.data}catch(n){throw this.error=((e=(r=n.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to update transfer",n}finally{this.loading=!1}},async deleteTransfer(t){var a,r;this.loading=!0;try{await s.delete(`/api/transfer-stock/${t}`),this.transfer=null,this.error=null}catch(e){throw this.error=((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to delete transfer",e}finally{this.loading=!1}},async acceptTransfer(t){if(!t)throw new Error("Transfer ID tidak ditemukan");return await s.put(`/api/transfer-stock/${t}/accept`)},async rejectTransfer(t){if(!t)throw new Error("Transfer ID tidak ditemukan");return await s.put(`/api/transfer-stock/${t}/reject`)},resetTransfer(){this.transfer=null,this.error=null}}});export{l as u};
