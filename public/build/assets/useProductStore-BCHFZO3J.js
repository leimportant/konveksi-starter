import{R as s,b as o}from"./app-rhV7Vztj.js";const d=s("product",{state:()=>({items:[],total:0,loaded:!1,loading:!1,currentPage:1,filterName:""}),actions:{async fetchProducts(t=1,e=50){const a={page:t,perPage:e,search:this.filterName};this.loaded=!1,this.currentPage=t;try{const r=await o.get("/api/products",{params:a});this.items=r.data.data,this.total=r.data.total,this.currentPage=t,this.loaded=!0}catch(r){throw console.error("Failed to fetch products:",r),r}},setFilter(t,e){(t==="search"||t==="name")&&(this.filterName=e,this.currentPage=1,this.loaded=!1,this.fetchProducts(1))},async fetchProductById(t){try{return(await o.get(`/api/products/${t}`)).data}catch(e){throw console.error("Failed to fetch product by ID:",e),e}},async createProduct(t){try{await o.post("/api/products",{name:t.name,category_id:t.category_id,descriptions:t.descriptions,uom_id:t.uom_id}),this.loaded=!1,await this.fetchProducts()}catch(e){throw console.error("Failed to create product:",e),e}},async updateProduct(t,e){try{await o.put(`/api/products/${t}`,e),this.loaded=!1,await this.fetchProducts(this.currentPage)}catch(a){throw console.error("Failed to update product:",a),a}},async deleteProduct(t){try{await o.delete(`/api/products/${t}`),this.loaded=!1,await this.fetchProducts(this.currentPage)}catch(e){throw console.error("Failed to delete product:",e),e}},async saveProductUnlisted(t){try{return(await o.post("/api/unlisted-products",t)).data}catch(e){throw console.error("Failed to save custom product:",e),e}},async fetchProductUnlisted(t=1,e=50,a=""){this.loading=!0;try{const r={page:t,perPage:e,search:a};return(await o.get("/api/unlisted-products",{params:r})).data}catch(r){throw console.error("Failed to fetch unlisted products:",r),r}finally{this.loading=!1}}}});export{d as u};
