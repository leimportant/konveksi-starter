import{d as T,K as S,r as c,c as P,f as p,g as h,k as t,j as i,u as s,p as g,C as k,l as m,m as v,z as x,b as D,_ as I}from"./app-Di3VD2wF.js";import{u as U}from"./useToast-CJi-_njE.js";import{P as V,a as w}from"./PushNotificationToggleStore-CBFUbzP8.js";import{u as B}from"./usePushNotificationStore-ByTS0NIM.js";const C={class:"push-notification-demo"},E={class:"card"},z={class:"card-header"},O={class:"card-body"},j={class:"toggle-section"},A={class:"toggle-section"},F={class:"card mt-4"},H={class:"card-header"},K={class:"card-body"},M={class:"form-group"},R={for:"notificationTitle"},q=["placeholder"],G={class:"form-group"},J={for:"notificationBody"},L=["placeholder"],Q={class:"form-group"},W={for:"notificationUrl"},X=["placeholder"],Y=["disabled"],Z={key:0},$={key:1},tt={class:"card mt-4"},ot={class:"card-header"},st={class:"card-body"},it={href:"/PUSH_NOTIFICATIONS.md",target:"_blank",class:"btn btn-outline-primary"},et=T({__name:"PushNotificationDemo",setup(at){const{t:o}=S(),f=U(),b=B(),l=c("Test Notification"),r=c("This is a test push notification from the Vue Starter app."),_=c(window.location.origin),d=c(!1),e=c(null),N=P(()=>l.value.trim()!==""&&r.value.trim()!==""&&b.isSubscribed);async function y(){if(!N.value){f.error(o("pushNotifications.cannotSend"));return}try{d.value=!0,e.value=null;const u=await D.post("/api/push/send",{title:l.value,body:r.value,url:_.value||void 0});console.log("Test notification response:",u.data),e.value={success:!0,message:o("pushNotifications.sendSuccess")},f.success(o("pushNotifications.sendSuccess"))}catch(u){console.error("Error sending test notification:",u),e.value={success:!1,message:o("pushNotifications.sendError")},f.error(o("pushNotifications.sendError"))}finally{d.value=!1}}return(u,a)=>(h(),p("div",C,[t("h1",null,i(s(o)("pushNotifications.demoTitle")),1),t("div",E,[t("div",z,[t("h2",null,i(s(o)("pushNotifications.settings")),1)]),t("div",O,[t("p",null,i(s(o)("pushNotifications.description")),1),t("div",j,[t("h3",null,i(s(o)("pushNotifications.directImplementation")),1),g(V)]),t("div",A,[t("h3",null,i(s(o)("pushNotifications.storeImplementation")),1),g(w)])])]),t("div",F,[t("div",H,[t("h2",null,i(s(o)("pushNotifications.testNotification")),1)]),t("div",K,[t("p",null,i(s(o)("pushNotifications.testDescription")),1),t("div",M,[t("label",R,i(s(o)("pushNotifications.title")),1),m(t("input",{type:"text",id:"notificationTitle","onUpdate:modelValue":a[0]||(a[0]=n=>l.value=n),class:"form-control",placeholder:s(o)("pushNotifications.titlePlaceholder")},null,8,q),[[v,l.value]])]),t("div",G,[t("label",J,i(s(o)("pushNotifications.body")),1),m(t("textarea",{id:"notificationBody","onUpdate:modelValue":a[1]||(a[1]=n=>r.value=n),class:"form-control",placeholder:s(o)("pushNotifications.bodyPlaceholder"),rows:"3"},null,8,L),[[v,r.value]])]),t("div",Q,[t("label",W,i(s(o)("pushNotifications.url")),1),m(t("input",{type:"text",id:"notificationUrl","onUpdate:modelValue":a[2]||(a[2]=n=>_.value=n),class:"form-control",placeholder:s(o)("pushNotifications.urlPlaceholder")},null,8,X),[[v,_.value]])]),t("button",{onClick:y,class:"btn btn-primary",disabled:d.value||!N.value},[d.value?(h(),p("span",Z,i(s(o)("pushNotifications.sending")),1)):(h(),p("span",$,i(s(o)("pushNotifications.sendTest")),1))],8,Y),e.value?(h(),p("div",{key:0,class:x(["alert",e.value.success?"alert-success":"alert-danger"]),role:"alert"},i(e.value.message),3)):k("",!0)])]),t("div",tt,[t("div",ot,[t("h2",null,i(s(o)("pushNotifications.documentation")),1)]),t("div",st,[t("p",null,i(s(o)("pushNotifications.documentationDescription")),1),t("a",it,i(s(o)("pushNotifications.viewDocumentation")),1)])])]))}}),dt=I(et,[["__scopeId","data-v-08ee8306"]]);export{dt as default};
