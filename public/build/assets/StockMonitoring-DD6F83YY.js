import{_ as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-BYRlbZlQ.js";import{d as V,q as z,o as L,w as T,c as q,f as l,g as a,p as s,u as e,Z as D,x as o,k as _,C as v,j as d,y as n,F as f,B as m,E as x,z as E}from"./app-BscK5G4r.js";import{u as K}from"./useInventoryStore-C6VcXY_R.js";import{_ as O,a as U,b as $,c as g,d as Z,e as b}from"./TableRow.vue_vue_type_script_setup_true_lang-DFcX0pX5.js";import"./index-DZgK4evs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C3c0ANBC.js";const A={class:"px-4 py-4"},G={class:"flex justify-between items-center mb-4"},H=["value"],J={key:0,class:"text-red-600"},Q={key:1,class:"text-gray-500"},W={key:2,class:"rounded-md border overflow-auto"},X={class:"flex justify-end mt-4 space-x-2"},Y=["disabled"],ee=["onClick"],te=["disabled"],ue=V({__name:"StockMonitoring",setup(oe){const u=K(),{stockMonitoringReport:y,loading:k,error:h,currentPage:i,lastPage:N,total:M,filters:S}=z(u),P=[{title:"Inventory",href:"/inventory"}];L(()=>{u.fetchStockMonitoringReport(1)}),T(S,()=>{u.fetchStockMonitoringReport(1)},{deep:!0});const R=(c,r)=>{u.setFilter(c,r)},B=()=>{i.value>1&&u.fetchStockMonitoringReport(i.value-1)},j=()=>{i.value<N.value&&u.fetchStockMonitoringReport(i.value+1)},F=c=>{u.fetchStockMonitoringReport(c)},w=q(()=>{if(!y.value.length)return[];const c=["product_id","product_name","uom_id","sloc_id","size_id"];return Object.keys(y.value[0]).filter(r=>!c.includes(r))});return(c,r)=>(a(),l(f,null,[s(e(D),{title:"Stock Monitoring Management"}),s(I,{breadcrumbs:P},{default:o(()=>[_("div",A,[_("div",G,[_("input",{type:"text",class:"border rounded px-2 py-1",value:e(S).productName,onInput:r[0]||(r[0]=t=>R("productName",t.target.value)),placeholder:"Search product..."},null,40,H)]),e(h)?(a(),l("p",J,d(e(h)),1)):v("",!0),e(k)?(a(),l("p",Q,"Loading...")):v("",!0),e(k)?v("",!0):(a(),l("div",W,[s(e(O),null,{default:o(()=>[s(e(U),null,{default:o(()=>[s(e($),{class:"bg-gray-100"},{default:o(()=>[s(e(g),null,{default:o(()=>r[1]||(r[1]=[n("Product ID")])),_:1,__:[1]}),s(e(g),null,{default:o(()=>r[2]||(r[2]=[n("Product Name")])),_:1,__:[2]}),s(e(g),null,{default:o(()=>r[3]||(r[3]=[n("SLoc")])),_:1,__:[3]}),s(e(g),null,{default:o(()=>r[4]||(r[4]=[n("UOM")])),_:1,__:[4]}),(a(!0),l(f,null,m(w.value,t=>(a(),x(e(g),{key:t},{default:o(()=>[n(d(t.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())),1)]),_:2},1024))),128))]),_:1})]),_:1}),s(e(Z),null,{default:o(()=>[(a(!0),l(f,null,m(e(y),t=>(a(),x(e($),{key:`${t.product_id}-${t.sloc_id}`},{default:o(()=>[s(e(b),null,{default:o(()=>[n(d(t.product_id),1)]),_:2},1024),s(e(b),null,{default:o(()=>[n(d(t.product_name),1)]),_:2},1024),s(e(b),null,{default:o(()=>[n(d(t.sloc_id),1)]),_:2},1024),s(e(b),null,{default:o(()=>[n(d(t.uom_id),1)]),_:2},1024),(a(!0),l(f,null,m(w.value,p=>(a(),x(e(b),{key:p},{default:o(()=>{var C;return[n(d(((C=t[p])==null?void 0:C.qty)??0),1)]}),_:2},1024))),128))]),_:2},1024))),128))]),_:1})]),_:1})])),_("div",X,[_("button",{onClick:B,disabled:e(i)===1,class:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Y),(a(!0),l(f,null,m(e(M),t=>(a(),l("button",{key:t,onClick:p=>F(t),class:E(["px-3 py-1 rounded border text-xs",t===e(i)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-700 hover:bg-gray-100"])},d(t),11,ee))),128)),_("button",{onClick:j,disabled:e(i)===e(M),class:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,te)])])]),_:1})],64))}});export{ue as default};
