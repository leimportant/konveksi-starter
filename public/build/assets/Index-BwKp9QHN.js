import{R as $,b as y,d as v,o as k,f as c,g as d,p as e,u as t,Z as w,x as s,k as g,y as i,F as S,B as V,E as b,j as h,l as B,G as C,m as N,D}from"./app-ByqpfmMc.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-BVYIDFCR.js";import{_ as K,a as F,b as x,c as f,d as I,e as p}from"./TableRow.vue_vue_type_script_setup_true_lang-BCMAy2kv.js";import"./index-CI44kOYo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BCbEhsfY.js";const M=$("setting",{state:()=>({settings:[]}),actions:{async fetchSettings(){try{const l=await y.get("/api/settings");this.settings=l.data}catch(l){console.error("Error fetching settings:",l)}},async updateSetting(l,r){try{const o=await y.put(`/api/settings/${l}`,{value:r}),u=this.settings.findIndex(_=>_.id===l);return u!==-1&&(this.settings[u]=o.data),o.data}catch(o){throw console.error(`Error updating setting with ID ${l}:`,o),o}}}}),U={class:"px-4 py-4"},T={class:"rounded-md border"},j={key:0},A=["onUpdate:modelValue","onKeyup"],G={key:1},H=v({__name:"Index",setup(l){const r=M(),o=[{title:"Setting",href:"/setting"}];k(()=>{r.fetchSettings()});const u=async(_,a)=>{try{await r.updateSetting(_,a),alert("Setting updated successfully!")}catch(n){console.log(n),alert("Failed to update setting.")}};return(_,a)=>(d(),c(S,null,[e(t(w),{title:"Setting Management"}),e(E,{breadcrumbs:o},{default:s(()=>[g("div",U,[g("div",T,[t(r).settings.length>0?(d(),c("div",j,[e(t(K),null,{default:s(()=>[e(t(F),null,{default:s(()=>[e(t(x),{class:"bg-gray-100"},{default:s(()=>[e(t(f),null,{default:s(()=>a[0]||(a[0]=[i("Name")])),_:1,__:[0]}),e(t(f),null,{default:s(()=>a[1]||(a[1]=[i("Key")])),_:1,__:[1]}),e(t(f),null,{default:s(()=>a[2]||(a[2]=[i("Current Value")])),_:1,__:[2]}),e(t(f),null,{default:s(()=>a[3]||(a[3]=[i("Actions")])),_:1,__:[3]})]),_:1})]),_:1}),e(t(I),null,{default:s(()=>[(d(!0),c(S,null,V(t(r).settings,n=>(d(),b(t(x),{key:n.id},{default:s(()=>[e(t(p),null,{default:s(()=>[i(h(n.name),1)]),_:2},1024),e(t(p),null,{default:s(()=>[i(h(n.key),1)]),_:2},1024),e(t(p),null,{default:s(()=>[B(g("input",{type:"text","onUpdate:modelValue":m=>n.value=m,onKeyup:C(m=>u(n.id,n.value),["enter"])},null,40,A),[[N,n.value]])]),_:2},1024),e(t(p),null,{default:s(()=>[e(t(D),{onClick:m=>u(n.id,n.value)},{default:s(()=>a[4]||(a[4]=[i("Update")])),_:2,__:[4]},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(d(),c("p",G,"No settings found."))])])]),_:1})],64))}});export{H as default};
