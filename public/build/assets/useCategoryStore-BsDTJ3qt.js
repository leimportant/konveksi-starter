import{R as s,b as r}from"./app-B32J4cyy.js";const o=s("category",{state:()=>({items:[],total:0,loaded:!1,loading:!1,currentPage:1,lastPage:1,filterName:""}),actions:{async fetchCategories(t=1,e=50){this.loaded=!1,this.currentPage=t;try{const a=await r.get("/api/categories",{params:{page:t,perPage:e,name:this.filterName}});this.items=a.data.data,this.total=a.data.total,this.lastPage=a.data.last_page,this.loaded=!0}catch(a){console.error("Failed to fetch Category",a),this.loaded=!0}},setFilter(t,e){t==="name"&&(this.filterName=e,this.currentPage=1,this.fetchCategories(1))},async createCategory(t){try{await r.post("/api/categories",{name:t}),await this.fetchCategories()}catch(e){throw e}},async updateCategory(t,e){try{await r.put(`/api/categories/${t}`,{name:e}),await this.fetchCategories()}catch(a){throw a}},async deleteCategory(t){try{await r.delete(`/api/categories/${t}`),await this.fetchCategories()}catch(e){throw e}}}});export{o as u};
