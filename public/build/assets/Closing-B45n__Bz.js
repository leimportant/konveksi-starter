import{d as y,Q as _,r as p,f as g,g as c,p as t,u as o,Z as C,x as r,k as l,K as S,l as w,m as T,D as m,y as f,F as k,P as U}from"./app-BiHwIovX.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-BdYLQRHZ.js";import{_ as u}from"./Input.vue_vue_type_script_setup_true_lang-BleCJB3X.js";import{u as B}from"./useCashBalanceStore-wKs5W-yw.js";import{u as K}from"./useToast-BirB0xaj.js";import"./index-DpWar7Zl.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CmtcfcQG.js";const $={class:"w-full px-4 py-6"},N={class:"space-y-4"},M={class:"mt-6 flex justify-end gap-2"},I=y({__name:"Closing",setup(h){const v=B(),d=K(),b=_().props.id,s=p({cash_sales_total:0,cash_in:0,cash_out:0,closing_balance:0,discrepancy:0,notes:""}),n=p(!1),x=async()=>{n.value=!0;try{await v.closing(b,s.value),d.success("Shift berhasil ditutup"),U.visit("/sales")}catch(i){d.error("Gagal menutup shift"),console.error(i)}finally{n.value=!1}},V=[{title:"Close Shift",href:"/close-shift"}];return(i,e)=>(c(),g(k,null,[t(o(C),{title:"Tutup Shift Kasir"}),t(q,{breadcrumbs:V},{default:r(()=>[l("div",$,[l("form",{onSubmit:S(x,["prevent"])},[l("div",N,[l("div",null,[e[7]||(e[7]=l("label",{class:"text-[14px]"},"Total Penjualan Tunai",-1)),t(o(u),{modelValue:s.value.cash_sales_total,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.cash_sales_total=a),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[8]||(e[8]=l("label",{class:"text-[14px]"},"Kas Masuk (Cash In)",-1)),t(o(u),{modelValue:s.value.cash_in,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.cash_in=a),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[9]||(e[9]=l("label",{class:"text-[14px]"},"Kas Keluar (Cash Out)",-1)),t(o(u),{modelValue:s.value.cash_out,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.cash_out=a),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[10]||(e[10]=l("label",{class:"text-[14px]"},"Saldo Akhir",-1)),t(o(u),{modelValue:s.value.closing_balance,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.closing_balance=a),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[11]||(e[11]=l("label",{class:"text-[14px]"},"Selisih",-1)),t(o(u),{modelValue:s.value.discrepancy,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.discrepancy=a),type:"number",step:"0.01",required:""},null,8,["modelValue"])]),l("div",null,[e[12]||(e[12]=l("label",{class:"text-[14px]"},"Catatan",-1)),w(l("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.notes=a),class:"w-full border rounded px-3 py-2",rows:"3",placeholder:"Opsional"},null,512),[[T,s.value.notes]])])]),l("div",M,[t(o(m),{type:"submit",disabled:n.value},{default:r(()=>e[13]||(e[13]=[f("Tutup Shift")])),_:1,__:[13]},8,["disabled"]),t(o(m),{type:"button",variant:"outline",onClick:e[6]||(e[6]=a=>i.$inertia.visit("/cash-balances"))},{default:r(()=>e[14]||(e[14]=[f(" Batal ")])),_:1,__:[14]})])],32)])]),_:1})],64))}});export{I as default};
