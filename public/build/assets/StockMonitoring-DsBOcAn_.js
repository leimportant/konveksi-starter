import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-Di2aN84C.js";import{d as z,r as I,q as L,o as T,w as q,c as E,f as n,g as a,p as s,u as e,Z as K,x as o,k as _,C as k,j as i,y as l,F as g,B as b,E as h,z as O}from"./app-BSDUiwR6.js";import{u as U}from"./useInventoryStore-nktczrfA.js";import{_ as D,a as Z,b as N,c as m,d as A,e as y}from"./TableRow.vue_vue_type_script_setup_true_lang-BQI6KkYH.js";import"./index-DpJAop6U.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-nr-cC9hQ.js";const G={class:"px-4 py-4"},H={class:"flex justify-between items-center mb-4"},J=["value"],Q={key:0,class:"text-red-600"},W={key:1,class:"text-gray-500"},X={key:2,class:"rounded-md border overflow-auto"},Y={class:"flex justify-end mt-4 space-x-2"},ee=["disabled"],te=["onClick"],oe=["disabled"],ie=z({__name:"StockMonitoring",setup(re){const p=I(50),d=U(),{stockMonitoringReport:v,loading:M,error:S,currentPage:u,lastPage:x,filters:w}=L(d),P=[{title:"Inventory",href:"/inventory"}];T(()=>{d.fetchStockMonitoringReport(1,p.value)}),q(w,()=>{d.fetchStockMonitoringReport(1,p.value)},{deep:!0});const R=(c,r)=>{d.setFilter(c,r)},B=()=>{u.value>1&&d.fetchStockMonitoringReport(u.value-1,p.value)},j=()=>{u.value<x.value&&d.fetchStockMonitoringReport(u.value+1,p.value)},F=c=>{d.fetchStockMonitoringReport(c,p.value)},C=E(()=>{if(!v.value.length)return[];const c=["product_id","product_name","uom_id","sloc_id","size_id"];return Object.keys(v.value[0]).filter(r=>!c.includes(r))});return(c,r)=>(a(),n(g,null,[s(e(K),{title:"Stock Monitoring Management"}),s(V,{breadcrumbs:P},{default:o(()=>[_("div",G,[_("div",H,[_("input",{type:"text",class:"border rounded px-2 py-1",value:e(w).productName,onInput:r[0]||(r[0]=t=>R("productName",t.target.value)),placeholder:"Search product..."},null,40,J)]),e(S)?(a(),n("p",Q,i(e(S)),1)):k("",!0),e(M)?(a(),n("p",W,"Loading...")):k("",!0),e(M)?k("",!0):(a(),n("div",X,[s(e(D),null,{default:o(()=>[s(e(Z),null,{default:o(()=>[s(e(N),{class:"bg-gray-100"},{default:o(()=>[s(e(m),null,{default:o(()=>r[1]||(r[1]=[l("Product Name")])),_:1,__:[1]}),s(e(m),null,{default:o(()=>r[2]||(r[2]=[l("SLoc")])),_:1,__:[2]}),s(e(m),null,{default:o(()=>r[3]||(r[3]=[l("UOM")])),_:1,__:[3]}),(a(!0),n(g,null,b(C.value,t=>(a(),h(e(m),{key:t},{default:o(()=>[l(i(t.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase())),1)]),_:2},1024))),128))]),_:1})]),_:1}),s(e(A),null,{default:o(()=>[(a(!0),n(g,null,b(e(v),t=>(a(),h(e(N),{key:`${t.product_id}-${t.sloc_id}`},{default:o(()=>[s(e(y),null,{default:o(()=>[l(i(t.product_name),1)]),_:2},1024),s(e(y),null,{default:o(()=>[l(i(t.sloc_id),1)]),_:2},1024),s(e(y),null,{default:o(()=>[l(i(t.uom_id),1)]),_:2},1024),(a(!0),n(g,null,b(C.value,f=>(a(),h(e(y),{key:f},{default:o(()=>{var $;return[l(i((($=t[f])==null?void 0:$.qty)??0),1)]}),_:2},1024))),128))]),_:2},1024))),128))]),_:1})]),_:1})])),_("div",Y,[_("button",{onClick:B,disabled:e(u)===1,class:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,ee),(a(!0),n(g,null,b(e(x),t=>(a(),n("button",{key:t,onClick:f=>F(t),class:O(["px-3 py-1 rounded border text-xs",t===e(u)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-700 hover:bg-gray-100"])},i(t),11,te))),128)),_("button",{onClick:j,disabled:e(u)===e(x),class:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,oe)])])]),_:1})],64))}});export{ie as default};
