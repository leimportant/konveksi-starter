import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-BLPKlCaC.js";import{R as b,r as m,b as _,d as w,o as $,f as o,g as r,p,u as i,Z as G,x as A,j as k,k as c,F as f,B as C,z as u,E,am as B,V as y}from"./app-BEPvCQbj.js";import{L as I,I as L}from"./lucide-vue-next-ANuXy2uS.js";import"./index-DH-OK387.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-vqTKA5IJ.js";import"./scissors-kym5sqw1.js";import"./check-D9h9dBUJ.js";import"./eye-BqSUQSVW.js";import"./file-archive-BCJGWQ-j.js";import"./loader-circle-YdKybpWa.js";import"./warehouse-DD8L_9kY.js";import"./pen-BGTuaMtF.js";import"./user-plus-uEY3GNiz.js";import"./plus-CXchBKvN.js";import"./truck-DwCXxyFq.js";import"./shopping-bag-Ccz0rmoL.js";import"./square-pen-D12FcZ7N.js";import"./trash-2-DuaBv4sI.js";import"./trash-Dhuvh6V1.js";import"./upload-DsllbOLz.js";import"./view-CE70t8A1.js";const N=b("activityGroup",()=>{const l=m([]),n=m(!1),e=m(null);return{activityGroups:l,isLoading:n,error:e,fetchActivityGroups:async()=>{var a,s;n.value=!0,e.value=null;try{const d=(await _.get("/api/user-activity-group")).data.data;if(Array.isArray(d))l.value=d.sort((g,x)=>g.sorting-x.sorting);else throw new Error("Invalid response format")}catch(t){console.error("❌ Failed to fetch activity groups:",t),e.value=((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.message)||t.message||"Failed to fetch activity groups"}finally{n.value=!1}}}}),S={key:0},F={key:1},j={key:2,class:"flex flex-col justify-center items-center py-24 text-center space-y-4"},D={class:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full"},V={key:3,class:"grid gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 p-4"},z=["onClick"],it=w({__name:"Index",setup(l){const n=[{title:"Konveksi",href:"/konveksi"}],e=N(),v=a=>{switch(a){case"DESIGN":y.visit("/konveksi/model/list");break;case"PENERIMAAN":y.visit("/purchase-order");break;default:y.visit(`/production/${a}`);break}};return $(async()=>{await e.fetchActivityGroups()}),(a,s)=>(r(),o(f,null,[p(i(G),{title:"Konveksi"}),p(h,{breadcrumbs:n},{default:A(()=>[i(e).isLoading?(r(),o("div",S,"Loading...")):i(e).error?(r(),o("div",F,"Error: "+k(i(e).error),1)):i(e).activityGroups.length===0?(r(),o("div",j,[c("div",D,[p(I,{class:"h-10 w-10 text-gray-400"})]),s[0]||(s[0]=c("h2",{class:"text-lg font-semibold text-gray-700 dark:text-gray-200"}," Belum ada akses ke menu ",-1)),s[1]||(s[1]=c("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Silakan hubungi administrator untuk mendapatkan hak akses. ",-1))])):(r(),o("div",V,[(r(!0),o(f,null,C(i(e).activityGroups,t=>(r(),o("div",{key:t.id,class:u(["group relative aspect-video rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer flex flex-col items-center justify-center",`bg-${t.bg_color} dark:bg-${t.color}-900`]),onClick:d=>v(t.id)},[(r(),E(B(L[t.icon]),{class:u(["h-10 w-10 sm:h-12 sm:w-12 transition-transform group-hover:scale-110",`text-${t.color}-600 dark:text-${t.color}-400`])},null,8,["class"])),c("div",{class:u(["absolute bottom-0 w-full py-1.5 text-center font-semibold text-xs sm:text-sm",`text-${t.color}-700 dark:text-${t.color}-300 bg-${t.bg_color} dark:bg-${t.color}-800`])},k(t.name),3)],10,z))),128))]))]),_:1})],64))}});export{it as default};
