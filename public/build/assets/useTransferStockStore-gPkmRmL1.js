import{R as o,b as n}from"./app-tcqbjKsK.js";const c=o("transferStock",{state:()=>({transfers:[],transfer:null,loading:!1,error:null,products:[],currentPage:1,lastPage:1,total:0,filters:{productName:"",status:""}}),actions:{async fetchProducts(){var t,e;this.loading=!0;try{const a=await n.get("/api/products");this.products=a.data.data,this.error=null}catch(a){this.error=((e=(t=a.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to fetch products"}finally{this.loading=!1}},async fetchTransfers(t=1,e=50){var a,r;this.loading=!0;try{const s={page:t,per_page:e,search:this.filters.productName,status:this.filters.status},i=await n.get("/api/transfer-stock",{params:s});this.transfers=i.data.data,this.currentPage=i.data.current_page,this.lastPage=i.data.last_page,this.total=i.data.total,this.error=null}catch(s){this.error=((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to fetch transfers"}finally{this.loading=!1}},async fetchTransferByID(t){var e,a;this.loading=!0;try{const r=await n.get(`/api/transfer-stock/${t}`);this.transfer=r.data,this.error=null}catch(r){this.error=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to fetch transfer"}finally{this.loading=!1}},async createTransfer(t){var e,a;this.loading=!0;try{const r=await n.post("/api/transfer-stock",t);return this.transfer=r.data.data,this.error=null,r.data}catch(r){throw this.error=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to create transfer",r}finally{this.loading=!1}},async updateTransfer(t,e){var a,r;this.loading=!0;try{const s=await n.put(`/api/transfer-stock/${t}`,e);return this.transfer=s.data,this.error=null,s.data}catch(s){throw this.error=((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to update transfer",s}finally{this.loading=!1}},async deleteTransfer(t){var e,a;this.loading=!0;try{await n.delete(`/api/transfer-stock/${t}`),this.transfer=null,this.error=null}catch(r){throw this.error=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to delete transfer",r}finally{this.loading=!1}},async acceptTransfer(t){if(!t)throw new Error("Transfer ID tidak ditemukan");return await n.put(`/api/transfer-stock/${t}/accept`)},async rejectTransfer(t){if(!t)throw new Error("Transfer ID tidak ditemukan");return await n.put(`/api/transfer-stock/${t}/reject`)},resetTransfer(){this.transfer=null,this.error=null}}});export{c as u};
