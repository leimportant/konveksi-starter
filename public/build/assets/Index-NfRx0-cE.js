import{d as k,r as S,o as $,f,g as i,p as e,u as a,Z as B,x as s,k as u,y as n,F as m,B as V,E as w,j as r,D as g,z as D}from"./app-B6cuawwX.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-D__rBwZs.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-B7Ua5xkL.js";import{_ as j,a as z,b,c as d,d as F,e as _}from"./TableRow.vue_vue_type_script_setup_true_lang-zdMNDNuK.js";import{u as I}from"./useCashBalanceStore-DyRdl6ZP.js";import{d as E}from"./debounce-BcZQbp_F.js";import{S as R}from"./square-pen-jCExLajG.js";import"./index-DCLR6VAV.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D_VciT-j.js";const q={class:"px-4 py-6 space-y-6"},K={class:"flex justify-between items-center"},M={key:0,class:"text-center py-6 text-gray-500"},O={key:1},T={class:"rounded-md border"},U={key:0},Z={key:1,class:"italic text-gray-400"},A={class:"flex justify-end mt-4 gap-2"},G={class:"px-2 py-1"},na=k({__name:"Index",setup(H){const l=I(),p=S(""),y=[{title:"Cash Balance",href:"/cash-balances"}];$(()=>{l.fetchCashBalances()});const x=E(c=>{l.setFilter("name",c)},400),h=c=>{const t=c.target;x(t.value)},v=()=>{l.currentPage<l.lastPage&&l.fetchCashBalances(l.currentPage+1)},C=()=>{l.currentPage>1&&l.fetchCashBalances(l.currentPage-1)};return(c,t)=>(i(),f(m,null,[e(a(B),{title:"Cash Balances"}),e(L,{breadcrumbs:y},{default:s(()=>[u("div",q,[u("div",K,[t[1]||(t[1]=u("h1",{class:"text-2xl font-semibold"},"Saldo Kas",-1)),e(a(N),{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),onInput:h,type:"text",placeholder:"Search by cashier name...",class:"w-64"},null,8,["modelValue"])]),a(l).loading?(i(),f("div",M," Loading data... ")):(i(),f("div",O,[u("div",T,[e(a(j),null,{default:s(()=>[e(a(z),null,{default:s(()=>[e(a(b),{class:"bg-gray-100"},{default:s(()=>[e(a(d),null,{default:s(()=>t[2]||(t[2]=[n("#")])),_:1,__:[2]}),e(a(d),null,{default:s(()=>t[3]||(t[3]=[n("Cashier ID")])),_:1,__:[3]}),e(a(d),null,{default:s(()=>t[4]||(t[4]=[n("Shift Date")])),_:1,__:[4]}),e(a(d),null,{default:s(()=>t[5]||(t[5]=[n("Shift")])),_:1,__:[5]}),e(a(d),null,{default:s(()=>t[6]||(t[6]=[n("Opening")])),_:1,__:[6]}),e(a(d),null,{default:s(()=>t[7]||(t[7]=[n("Closing")])),_:1,__:[7]}),e(a(d),null,{default:s(()=>t[8]||(t[8]=[n("Status")])),_:1,__:[8]})]),_:1})]),_:1}),e(a(F),null,{default:s(()=>[(i(!0),f(m,null,V(a(l).items,(o,P)=>(i(),w(a(b),{key:o.id},{default:s(()=>[e(a(_),null,{default:s(()=>[n(r(P+1),1)]),_:2},1024),e(a(_),null,{default:s(()=>[n(r(o.cashier_id),1)]),_:2},1024),e(a(_),null,{default:s(()=>[n(r(o.shift_date),1)]),_:2},1024),e(a(_),null,{default:s(()=>[n(r(o.shift_number),1)]),_:2},1024),e(a(_),null,{default:s(()=>[n("Rp "+r(o.opening_balance.toLocaleString()),1)]),_:2},1024),e(a(_),null,{default:s(()=>[o.closing_balance!==null?(i(),f("span",U," Rp "+r(o.closing_balance.toLocaleString()),1)):(i(),f("span",Z,[e(a(g),{variant:"ghost",size:"icon",class:"hover:bg-gray-100",onClick:J=>c.$inertia.visit(`/cash-balances/${o.id}/closing`)},{default:s(()=>[e(a(R),{class:"h-4 w-4 text-gray-600"})]),_:2},1032,["onClick"])]))]),_:2},1024),e(a(_),null,{default:s(()=>[u("span",{class:D(o.status==="open"?"text-green-600":"text-gray-600")},r(o.status),3)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),u("div",A,[e(a(g),{onClick:C,disabled:a(l).currentPage===1,variant:"outline"},{default:s(()=>t[9]||(t[9]=[n(" Prev ")])),_:1,__:[9]},8,["disabled"]),u("span",G,"Page "+r(a(l).currentPage)+" of "+r(a(l).lastPage),1),e(a(g),{onClick:v,disabled:a(l).currentPage===a(l).lastPage,variant:"outline"},{default:s(()=>t[10]||(t[10]=[n(" Next ")])),_:1,__:[10]},8,["disabled"])])]))])]),_:1})],64))}});export{na as default};
