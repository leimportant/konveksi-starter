import{d as k,r as B,o as S,f,g as u,p as t,u as e,Z as $,x as s,k as d,y as n,F as g,B as V,E as N,j as r,z as D,D as m}from"./app-dnJGHIqc.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-xP8Td3B8.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-qExSdty7.js";import{_ as w,a as F,b as x,c as i,d as I,e as _}from"./TableRow.vue_vue_type_script_setup_true_lang-CXdEb2l1.js";import{u as z}from"./useCashBalanceStore-zlV-vBT_.js";import{d as E}from"./debounce-BcZQbp_F.js";import"./index-DhprlUp-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B-kjAcbN.js";const R={class:"px-4 py-6 space-y-6"},A={class:"flex justify-between items-center"},K={key:0,class:"text-center py-6 text-gray-500"},M={key:1},O={class:"rounded-md border"},T={key:0},U={key:1,class:"italic text-gray-400"},Z={class:"flex justify-end mt-4 gap-2"},q={class:"px-2 py-1"},te=k({__name:"Index",setup(G){const l=z(),p=B(""),b=[{title:"Cash Balance",href:"/cash-balances"}];S(()=>{l.fetchCashBalances()});const y=E(c=>{l.setFilter("name",c)},400),h=c=>{const a=c.target;y(a.value)},P=()=>{l.currentPage<l.lastPage&&l.fetchCashBalances(l.currentPage+1)},v=()=>{l.currentPage>1&&l.fetchCashBalances(l.currentPage-1)};return(c,a)=>(u(),f(g,null,[t(e($),{title:"Cash Balances"}),t(L,{breadcrumbs:b},{default:s(()=>[d("div",R,[d("div",A,[a[1]||(a[1]=d("h1",{class:"text-2xl font-semibold"},"Saldo Kas",-1)),t(e(j),{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=o=>p.value=o),onInput:h,type:"text",placeholder:"Search by cashier name...",class:"w-64"},null,8,["modelValue"])]),e(l).loading?(u(),f("div",K," Loading data... ")):(u(),f("div",M,[d("div",O,[t(e(w),null,{default:s(()=>[t(e(F),null,{default:s(()=>[t(e(x),{class:"bg-gray-100"},{default:s(()=>[t(e(i),null,{default:s(()=>a[2]||(a[2]=[n("#")])),_:1,__:[2]}),t(e(i),null,{default:s(()=>a[3]||(a[3]=[n("Cashier ID")])),_:1,__:[3]}),t(e(i),null,{default:s(()=>a[4]||(a[4]=[n("Shift Date")])),_:1,__:[4]}),t(e(i),null,{default:s(()=>a[5]||(a[5]=[n("Shift")])),_:1,__:[5]}),t(e(i),null,{default:s(()=>a[6]||(a[6]=[n("Opening")])),_:1,__:[6]}),t(e(i),null,{default:s(()=>a[7]||(a[7]=[n("Closing")])),_:1,__:[7]}),t(e(i),null,{default:s(()=>a[8]||(a[8]=[n("Status")])),_:1,__:[8]})]),_:1})]),_:1}),t(e(I),null,{default:s(()=>[(u(!0),f(g,null,V(e(l).items,(o,C)=>(u(),N(e(x),{key:o.id},{default:s(()=>[t(e(_),null,{default:s(()=>[n(r(C+1),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n(r(o.cashier_id),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n(r(o.shift_date),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n(r(o.shift_number),1)]),_:2},1024),t(e(_),null,{default:s(()=>[n("Rp "+r(o.opening_balance.toLocaleString()),1)]),_:2},1024),t(e(_),null,{default:s(()=>[o.closing_balance!==null?(u(),f("span",T," Rp "+r(o.closing_balance.toLocaleString()),1)):(u(),f("span",U,"N/A"))]),_:2},1024),t(e(_),null,{default:s(()=>[d("span",{class:D(o.status==="open"?"text-green-600":"text-gray-600")},r(o.status),3)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),d("div",Z,[t(e(m),{onClick:v,disabled:e(l).currentPage===1,variant:"outline"},{default:s(()=>a[9]||(a[9]=[n(" Prev ")])),_:1,__:[9]},8,["disabled"]),d("span",q,"Page "+r(e(l).currentPage)+" of "+r(e(l).lastPage),1),t(e(m),{onClick:P,disabled:e(l).currentPage===e(l).lastPage,variant:"outline"},{default:s(()=>a[10]||(a[10]=[n(" Next ")])),_:1,__:[10]},8,["disabled"])])]))])]),_:1})],64))}});export{te as default};
