import{d as g,r as v,o as y,f as d,g as p,k as s,C as f,j as l,y as t,b as x,_ as N}from"./app-BcV-h3YK.js";const k={class:"container mx-auto p-4"},A={key:0,class:"relative mb-4 rounded border border-green-400 bg-green-100 px-4 py-3 text-green-700",role:"alert"},w={class:"block sm:inline"},P={key:1,class:"mb-4 rounded bg-white px-8 pb-8 pt-6 shadow-md"},_={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},C={key:0,class:"mt-4"},O=["src"],D={key:2,class:"relative rounded border border-yellow-400 bg-yellow-100 px-4 py-3 text-yellow-700",role:"alert"},I=g({__name:"Approve",props:{message:{type:String,default:""},order:{type:Object,default:null}},setup(b){const r=b,n=v(r.message),o=v(r.order),c=async()=>{if(console.log("aaa"),console.log(r.order),r.order)try{const a=await x.post(`/api/orders/${r.order.id}/status/approved`,{},{headers:{Accept:"application/json"}});console.log("approve"),console.log(a),o.value=a.data.order,n.value=a.data.message||"Order approved successfully!"}catch(a){console.error("Error fetching order details:",a),n.value="Failed to fetch order details.",o.value=null}else n.value="No order ID provided for approval.",o.value=null};return y(()=>{c()}),(a,e)=>{var u,i,m;return p(),d("div",k,[e[12]||(e[12]=s("h1",{class:"mb-4 text-2xl font-bold"},"Order Approval Status",-1)),n.value?(p(),d("div",A,[e[0]||(e[0]=s("strong",{class:"font-bold"},"Success!",-1)),s("span",w,l(n.value),1)])):f("",!0),o.value&&o.value.status==="1"?(p(),d("div",P,[e[10]||(e[10]=s("h2",{class:"mb-4 text-xl font-semibold"},"Order Details",-1)),s("div",_,[s("div",null,[s("p",null,[e[1]||(e[1]=s("span",{class:"font-semibold"},"Order ID:",-1)),t(" "+l(o.value.id),1)]),s("p",null,[e[2]||(e[2]=s("span",{class:"font-semibold"},"Total Amount:",-1)),t(" "+l(o.value.total_amount),1)]),s("p",null,[e[3]||(e[3]=s("span",{class:"font-semibold"},"Payment Method:",-1)),t(" "+l(o.value.payment_method),1)]),s("p",null,[e[4]||(e[4]=s("span",{class:"font-semibold"},"Is Paid:",-1)),t(" "+l(o.value.is_paid==="Y"?"Yes":"No"),1)]),s("p",null,[e[5]||(e[5]=s("span",{class:"font-semibold"},"Status:",-1)),t(" "+l(o.value.status),1)])]),s("div",null,[s("p",null,[e[6]||(e[6]=s("span",{class:"font-semibold"},"Customer Name:",-1)),t(" "+l(((u=o.value.customer)==null?void 0:u.name)||"N/A"),1)]),s("p",null,[e[7]||(e[7]=s("span",{class:"font-semibold"},"Customer Address:",-1)),t(" "+l(((i=o.value.customer)==null?void 0:i.address)||"N/A"),1)]),s("p",null,[e[8]||(e[8]=s("span",{class:"font-semibold"},"Customer Phone:",-1)),t(" "+l(((m=o.value.customer)==null?void 0:m.phone_number)||"N/A"),1)])])]),o.value.payment_proof?(p(),d("div",C,[e[9]||(e[9]=s("p",{class:"font-semibold"},"Payment Proof:",-1)),s("img",{src:`/storage/${o.value.payment_proof}`,alt:"Payment Proof",class:"mt-2 h-auto max-w-xs"},null,8,O)])):f("",!0)])):(p(),d("div",D,e[11]||(e[11]=[s("strong",{class:"font-bold"},"Info:",-1),s("span",{class:"block sm:inline"},"No order details available.",-1)])))])}}}),j=N(I,[["__scopeId","data-v-16c52bc6"]]);export{j as default};
