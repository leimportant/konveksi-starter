import{R as s,b as r}from"./app-9be07bG9.js";const d=s("product",{state:()=>({items:[],total:0,loaded:!1,loading:!1,currentPage:1,filterName:""}),actions:{async fetchProducts(t=1,e=50){const a={page:t,perPage:e,search:this.filterName};this.loaded=!1,this.currentPage=t;try{const o=await r.get("/api/products",{params:a});this.items=o.data.data,this.total=o.data.total,this.currentPage=t,this.loaded=!0}catch(o){throw console.error("Failed to fetch products:",o),o}},setFilter(t,e){(t==="search"||t==="name")&&(this.filterName=e,this.currentPage=1,this.loaded=!1,this.fetchProducts(1))},async fetchProductById(t){try{return(await r.get(`/api/products/${t}`)).data}catch(e){throw console.error("Failed to fetch product by ID:",e),e}},async createProduct(t){try{await r.post("/api/products",{name:t.name,category_id:t.category_id,descriptions:t.descriptions,uom_id:t.uom_id}),this.loaded=!1,await this.fetchProducts()}catch(e){throw console.error("Failed to create product:",e),e}},async updateProduct(t,e){try{await r.put(`/api/products/${t}`,e),this.loaded=!1,await this.fetchProducts(this.currentPage)}catch(a){throw console.error("Failed to update product:",a),a}},async deleteProduct(t){try{await r.delete(`/api/products/${t}`),this.loaded=!1,await this.fetchProducts(this.currentPage)}catch(e){throw console.error("Failed to delete product:",e),e}},async saveProductCustom(t){try{return(await r.post("/api/products/custom",t)).data}catch(e){throw console.error("Failed to save custom product:",e),e}}}});export{d as u};
