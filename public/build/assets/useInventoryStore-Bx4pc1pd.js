import{R as c,b as n}from"./app-DgzxhTP3.js";const d=c("inventory",{state:()=>({loading:!1,inventory:[],inventoryRpt:[],stockMonitoringReport:[],error:null,total:0,currentPage:1,lastPage:1,filters:{location:null,sloc:null,product:null,productName:null}}),actions:{setFilter(r,e){r==="location"||r==="product"?this.filters[r]=e===""?null:Number(e):this.filters[r]=e===""?null:String(e)},async fetchInventory(r=1,e=50){var o,a;this.loading=!0;try{const t=await n.get(`/api/inventories?page=${r}&perPage=${e}`,{params:{...this.filters}});this.inventoryRpt=t.data.data,this.total=t.data.total??0,this.currentPage=t.data.current_page??1,this.lastPage=t.data.last_page??1}catch(t){this.error=((a=(o=t.response)==null?void 0:o.data)==null?void 0:a.message)||"Failed to fetch inventory",console.error("Fetch inventory error:",this.error)}finally{this.loading=!1}},async updateInventory(r,e,o,a,t){var s,i;try{await n.put(`/api/inventories/${r}/${e}/${o}/${a}`,{qty:t})}catch(l){this.error=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to update inventory",console.error("Update inventory error:",this.error)}},async deleteInventory(r){var e,o;try{await n.delete(`/api/inventories/${r}`)}catch(a){this.error=((o=(e=a.response)==null?void 0:e.data)==null?void 0:o.message)||"Failed to delete inventory",console.error("Delete inventory error:",this.error)}},async fetchStockMonitoringReport(r=1,e=50){var o,a;this.loading=!0,this.error=null;try{const t=await n.get("/api/inventory/stock-monitoring",{params:{page:r,perPage:e,...this.filters}});this.stockMonitoringReport=t.data.data,this.currentPage=t.data.current_page??1,this.lastPage=t.data.last_page??1,this.total=t.data.total??0}catch(t){this.error=((a=(o=t.response)==null?void 0:o.data)==null?void 0:a.message)||"Failed to fetch stock monitoring report",console.error("Fetch stock monitoring error:",this.error)}finally{this.loading=!1}}}});export{d as u};
