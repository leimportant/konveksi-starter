import{R as l,r as a,d as u,o as d}from"./app-C-oCxDbN.js";const m=l("storeCookies",()=>{const t=a(!1),o=a(null),n=a(!1);function c(s){const e=document.cookie.match(new RegExp("(^| )"+s+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}async function i(s){t.value=!0,o.value=null,n.value=!1;try{await fetch("/sanctum/csrf-cookie",{method:"GET",credentials:"include"});const e=c("XSRF-TOKEN");console.log("XSRF-TOKEN:",e);const r=await fetch("/api/transfer-cookies",{method:"POST",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":e||""},credentials:"include",body:JSON.stringify({childUrl:s})});if(!r.ok){const f=await r.json();throw new Error(f.message||"Transfer failed")}n.value=!0,window.location.href=s}catch(e){o.value=(e==null?void 0:e.message)||"Network or CSRF error",console.error("Failed to transfer cookie:",o.value)}finally{t.value=!1}}return{isTransferring:t,transferError:o,transferSuccess:n,transferCookies:i}}),p=u({__name:"ChatbotPage",setup(t){const o="http://aninkafashion.eu-4.evennode.com",n=m();return d(()=>{n.transferCookies(o)}),()=>{}}});export{p as default};
