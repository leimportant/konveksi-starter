import{R as u,r as a,d,o as k}from"./app-CimJA_nk.js";const h=u("storeCookies",()=>{const s=a(!1),o=a(null),n=a(!1);function r(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}async function c(t){s.value=!0,o.value=null,n.value=!1;try{await fetch("/sanctum/csrf-cookie",{method:"GET",credentials:"include"});const e=r("XSRF-TOKEN"),f=r("aninkafashion-token");console.log("aninkafashion_session:",f),console.log("XSRF-TOKEN:",e);const i=await fetch("/api/transfer-cookies",{method:"POST",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":e||""},credentials:"include",body:JSON.stringify({childUrl:t})});if(!i.ok){const l=await i.json();throw new Error(l.message||"Transfer failed")}n.value=!0,window.location.href=t+"?_token="+(e||"")}catch(e){o.value=(e==null?void 0:e.message)||"Network or CSRF error",console.error("Failed to transfer cookie:",o.value)}finally{s.value=!1}}return{isTransferring:s,transferError:o,transferSuccess:n,transferCookies:c}}),p=d({__name:"ChatbotPage",setup(s){const o="http://aninkafashion.eu-4.evennode.com",n=h();return k(()=>{n.transferCookies(o)}),()=>{}}});export{p as default};
